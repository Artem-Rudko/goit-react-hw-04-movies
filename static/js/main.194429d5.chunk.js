(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{15:function(e,t,n){e.exports={navigation:"Navigation_navigation__2Pqah",NavLink:"Navigation_NavLink__2ckx0"}},20:function(e,t,n){e.exports={container:"MoviesView_container__1jEwH",SearchForm__input:"MoviesView_SearchForm__input__1I_Hu"}},21:function(e,t,n){e.exports={movie__card:"MovieCard_movie__card__2JkrU",movie__poster:"MovieCard_movie__poster__3PyFm",movie__info:"MovieCard_movie__info__159z_"}},22:function(e,t,n){e.exports={container:"MovieDetailsView_container__202r1",returnBtn:"MovieDetailsView_returnBtn__2DUFR",addInfo:"MovieDetailsView_addInfo__1BYhI"}},27:function(e,t,n){e.exports={container:"HomeView_container__ehltt",container__title:"HomeView_container__title__1CiTj"}},37:function(e,t,n){},40:function(e,t,n){e.exports={AppBar:"AppBar_AppBar__1JrdE"}},71:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(38),r=n.n(i),s=n(7),o=n(2),u=n(14),l=n.n(u),h=n(19),j=n(9),v=n(10),p=n(12),d=n(11),m=n(0),b=Object(o.g)((function(e){var t=e.moviesList,n=e.location;return Object(m.jsx)("ul",{children:t.map((function(e){return Object(m.jsx)("li",{children:Object(m.jsx)(s.b,{to:{pathname:"/movies/".concat(e.id),state:{from:n}},children:e.title})},e.id)}))})})),O=n(18),_=n.n(O),f="bf0957773382584d05a14ff44449aecb",x="https://api.themoviedb.org/3",y=function(e){return _.a.get("".concat(x,"/search/movie?query=").concat(e,"&api_key=").concat(f))},g=function(e){return _.a.get("".concat(x,"/movie/").concat(e,"?api_key=").concat(f,"&language=en-US&append_to_response=reviews,credits"))},w=n(27),k=n.n(w),N=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={moviesList:[]},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(x,"/trending/movie/day?api_key=").concat(f)).then((function(e){return e.data.results}));case 2:t=e.sent,this.setState({moviesList:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(m.jsxs)("div",{className:k.a.container,children:[Object(m.jsx)("h1",{className:k.a.container__title,children:"Tranding today"}),Object(m.jsx)(b,{moviesList:this.state.moviesList})]})}}]),n}(a.Component),S=Object(o.g)(N),C=n(20),L=n.n(C),M=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={query:"",moviesList:[]},e.formSubmitHandler=function(t){t.preventDefault(),e.onQueryChange(e.state.query),y(e.state.query).then((function(t){e.setState({moviesList:t.data.results}),localStorage.setItem("moviesWasFound",JSON.stringify(e.state.moviesList))})).catch((function(t){return e.setState({error:t})})).finally(e.setState({query:""}))},e.onQueryChange=function(t){e.props.history.push({pathname:e.props.location.pathname,search:"?query=".concat(t)})},e.queryHandler=function(t){e.setState({query:t.target.value})},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;this.props.location.search&&(e=this.props.location.search,_.a.get("".concat(x,"/search/movie").concat(e,"&api_key=").concat(f))).then((function(e){t.setState({moviesList:e.data.results})})).catch((function(e){return t.setState({error:e})})).finally(this.setState({query:""}))}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:L.a.container,children:[Object(m.jsxs)("form",{className:L.a.SearchForm,onSubmit:this.formSubmitHandler,children:[Object(m.jsx)("input",{className:L.a.SearchForm__input,type:"text",autoComplete:"off",placeholder:"input movie's title",autoFocus:!0,value:this.state.query,onChange:this.queryHandler}),Object(m.jsx)("button",{type:"submit",className:"SearchForm-button",children:"Search"})]}),this.state.moviesList&&Object(m.jsx)(b,{moviesList:this.state.moviesList})]})}}]),n}(a.Component),q=n(16),D=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={cast:[]},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.setState({cast:this.props.cast})}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return Object(m.jsx)("ul",{children:this.state.cast.map((function(e){return Object(m.jsxs)("li",{children:[Object(m.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w200").concat(e.profile_path),alt:e.name}),Object(m.jsx)("p",{children:e.name}),Object(m.jsxs)("p",{children:["Character: ",e.character]})]},e.id)}))})}}]),n}(a.Component),B=n(21),A=n.n(B),F=function(e){var t=e.poster_path,n=e.title,a=e.vote_average,c=e.overview,i=e.genres;return console.log("overview",typeof c,"vote_average",typeof a),Object(m.jsxs)("div",{className:A.a.movie__card,children:[Object(m.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(t),alt:"#",className:A.a.movie__poster,style:{width:260}}),Object(m.jsxs)("div",{className:A.a.movie__info,children:[Object(m.jsx)("h2",{children:n}),Object(m.jsxs)("p",{children:["User score: ",a]}),Object(m.jsx)("h3",{children:"Overview"}),Object(m.jsx)("p",{children:c}),Object(m.jsx)("h3",{children:"Genres"}),Object(m.jsx)("p",{children:i.map((function(e){return Object(m.jsxs)("span",{children:[e.name," "]},e.name)}))})]})]})},H=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={reviews:[]},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.setState({reviews:this.props.reviews})}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return Object(m.jsx)("ul",{children:this.state.reviews.length>0?this.state.reviews.map((function(e){return Object(m.jsxs)("li",{children:[Object(m.jsx)("h2",{children:e.author}),Object(m.jsx)("p",{children:e.content})]},e.id)})):Object(m.jsx)("p",{children:"We don't have any revies about this movie."})})}}]),n}(a.Component),I="/",V="/moviews",U="/movies/:movieId",J=n(22),G=n.n(J),E=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={id:"",poster_path:"",title:"",vote_average:"",overview:[],genres:[],credits:[],reviews:[]},e.handleGoBack=function(){var t,n=e.props,a=n.location;n.history.push((null===a||void 0===a||null===(t=a.state)||void 0===t?void 0:t.from)||I)},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,g(t);case 3:n=e.sent,this.setState(Object(q.a)({},n.data));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.poster_path,n=e.title,a=e.vote_average,c=e.overview,i=e.genres,r=e.reviews,u=e.credits;return Object(m.jsxs)("div",{className:G.a.container,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{className:G.a.returnBtn,type:"button",onClick:this.handleGoBack,children:"Go back"}),Object(m.jsx)(F,{poster_path:t,title:n,vote_average:a,overview:c,genres:i})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:G.a.addInfo,children:[Object(m.jsx)("p",{children:"Additional information"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(s.b,{to:"".concat(this.props.match.url,"/cast"),children:"Cast"})}),Object(m.jsx)("li",{children:Object(m.jsx)(s.b,{to:"".concat(this.props.match.url,"/reviews"),children:"Reviews"})})]})]}),Object(m.jsx)(o.b,{exact:!0,path:"".concat(this.props.match.path,"/cast"),render:function(e){return Object(m.jsx)(D,Object(q.a)(Object(q.a)({},e),{},{cast:u.cast}))}}),Object(m.jsx)(o.b,{exact:!0,path:"".concat(this.props.match.path,"/reviews"),render:function(e){return Object(m.jsx)(H,Object(q.a)(Object(q.a)({},e),{},{reviews:r.results}))}})]})]})}}]),n}(a.Component),P=n(15),Q=n.n(P),R=function(){return Object(m.jsxs)("ul",{className:Q.a.navigation,children:[Object(m.jsx)("li",{className:Q.a.navigation__item,children:Object(m.jsx)(s.c,{exact:!0,to:I,className:Q.a.NavLink,activeClassName:"NavLink--active",children:"Home"})}),Object(m.jsx)("li",{className:Q.a.Navigation__item,children:Object(m.jsx)(s.c,{to:V,className:Q.a.NavLink,activeClassName:"NavLink--active",children:"Movies"})})]})},T=n(40),W=n.n(T),z=function(){return Object(m.jsx)("div",{className:W.a.AppBar,children:Object(m.jsx)("header",{children:Object(m.jsx)(R,{})})})},Y=(n(37),function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(z,{}),Object(m.jsxs)(o.d,{children:[Object(m.jsx)(o.b,{exact:!0,path:I,component:S}),Object(m.jsx)(o.b,{path:U,component:E}),Object(m.jsx)(o.b,{path:V,component:M}),Object(m.jsx)(o.a,{to:I})]})]})});n(70);r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(s.a,{children:Object(m.jsx)(Y,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.194429d5.chunk.js.map